<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal blog of Pranav Prakash">
    <meta property="og:site_name" content="Pranav Prakash"/>
    <title>
    
        Pranav Prakash &middot; Blog
    
    </title>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css"/>
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/grids-responsive-old-ie-min.css"/>
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css"/>
    <!--<![endif]-->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/build/style-old-ie.min.css"/>
    <![endif]-->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/build/style.min.css"/>
    <!--<![endif]-->
    <!--[if gt IE 8]><!-->
    <script async src="/build/app.min.js"></script>
    <!--<![endif]-->
    <!--[if lt IE 9]>
    <script async src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
</head>
  <body>
    <div id="layout" class="pure-g">
      <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
          <img class="navimg" src="/assets/img/pranav.jpg" alt="Pranav"/>
          <h1 class="brand-title">Pranav Prakash</h1>
          <h2 class="brand-tagline">Software Developer, Photographer, Computer Addict &amp; Web Enthusiast</h2>
          <h4 class="social">
            <a href="/atom.xml"><i class="fa fa-rss-square fa-2x"></i></a>
            <a href="http://in.linkedin.com/in/pranavprakash/"><i class="fa fa-linkedin-square fa-2x"></i></a>
            <a href="https://github.com/pranavpr/"><i class="fa fa-github-square fa-2x"></i></a>
          </h4>
          <nav class="nav">
            <ul class="nav-list">
              <li class="nav-item">
                <a class="pure-button" href="/">Home</a>
              </li>
              <li class="nav-item">
                <a class="pure-button" href="/about/">About</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
    <div class="content pure-u-1 pure-u-md-3-4">
      <div>
        <div class="posts">
          
  <h1 class="content-subhead">Latest Post</h1>
  
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting" >
      <header class="post-header">
        <h2 itemprop="name headline" class="post-title">
        <a href="/2016/02/05/kill-idle-connections-to-redis/" itemprop="url">
          Kill idle connections to Redis
        </a>
        </h2>
        <p class="post-meta">
        <i class="fa fa-clock-o">&nbsp;</i><a itemprop="datePublished" content="05 Feb 2016" href="#" class="post-author">05 Feb 2016</a>&nbsp;<i class="fa fa-tags"></i>
         <a itemprop="keywords" href="/tags/redis/" class="post-category post-category-r">REDIS</a>    <a itemprop="keywords" href="/tags/aws/" class="post-category post-category-a">AWS</a>    <a itemprop="keywords" href="/tags/python/" class="post-category post-category-p">PYTHON</a>    <a itemprop="keywords" href="/tags/elasticache/" class="post-category post-category-e">ELASTICACHE</a>   
        </p>
      </header>
      <div itemprop="articleBody" class="post-description">
        <p>
          
            <p>I was using a Amazon Elasticache <code>cache.t2.medium</code> Redis instance as a cache store for one of the Rails application. Over the time I observed that connections to Redis instance are increasing day by day and once it hit ~1500, the Rails application started throwing connection timeout exceptions:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="lineno">1</span> Error connecting to Redis on redis-host:6379 <span class="o">(</span>Redis::TimeoutError<span class="o">)</span></code></pre></div>

<p>On searching over internet, I found that the default parameter group has <code>timeout</code> value set to 0 which means, any connection that has been initialized to redis will be kept by redis even if the connection initialized by the client is down. Well the first thing I did was to create a new parameter group and set its value to a non-zero integer. However I couldn’t apply the parameter group changes to live production application and hence started looking for alternatives.</p>

<a href="/2016/02/05/kill-idle-connections-to-redis/">Continue Reading »</a>
          
        </p>
      </div>
      <meta itemprop="wordCount" content="632">
      <meta itemprop="author" content="Pranav Prakash">
    </article>
  
  <h1 class="content-subhead">Recent Posts</h1>
  
  
    
    
  

    
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting" >
        <header class="post-header">
          <h2 itemprop="name headline" class="post-title">
          <a href="/2015/02/09/sending-asynchronous-emails-using-sidekiq-on-openshift/" itemprop="url">
            Sending asynchronous emails using Sidekiq on OpenShift
          </a>
          </h2>
          <p class="post-meta">
          <i class="fa fa-clock-o">&nbsp;</i><a itemprop="datePublished" content="09 Feb 2015" href="#" class="post-author">09 Feb 2015</a>&nbsp;<i class="fa fa-tags"></i>
           <a itemprop="keywords" href="/tags/sidekiq/" class="post-category post-category-s">SIDEKIQ</a>    <a itemprop="keywords" href="/tags/email/" class="post-category post-category-e">EMAIL</a>    <a itemprop="keywords" href="/tags/ruby-on-rails/" class="post-category post-category-r">RUBY ON RAILS</a>    <a itemprop="keywords" href="/tags/devise/" class="post-category post-category-d">DEVISE</a>    <a itemprop="keywords" href="/tags/openshift/" class="post-category post-category-o">OPENSHIFT</a>   
          </p>
        </header>
        <div itemprop="articleBody" class="post-description">
          <p>
          
            <p>If you need to send transactional emails from your Rails application, you should always send them asynchronously using a background job. If you send transactional emails synchronously, the user will see a loading page for the time rails connect to SMTP server and delivers your email which is about 2-3 seconds. This will result in a very bad user experience and it’s advisable to send emails using a background job.</p>

<p><a href="http://sidekiq.org/">Sidekiq</a> advertises it self as simple, efficient background processing engine for Ruby. Sidekiq has dependency on <a href="http://redis.io/">Redis</a> version <code>2.4</code> or greater. Hence to setup Sidekiq on OpenShift, we have to setup Redis first. So let’s get started.</p>

<h2 id="setting-up-redis">Setting up Redis</h2>

<p>Redis cartridge for Openshift is available <a href="https://github.com/smarterclayton/openshift-redis-cart">here</a>. To add this cartridge to existing Openshift application, issue following command:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="lineno">1</span> rhc add-cartridge http://cartreflect-claytondev.rhcloud.com/reflect?github<span class="o">=</span>smarterclayton/openshift-redis-cart</code></pre></div>

<a href="/2015/02/09/sending-asynchronous-emails-using-sidekiq-on-openshift/">Continue Reading »</a>
          
        </p>
      </div>
      <meta itemprop="wordCount" content="538">
      <meta itemprop="author" content="Pranav Prakash">
    </article>
  

    
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting" >
        <header class="post-header">
          <h2 itemprop="name headline" class="post-title">
          <a href="/2014/12/28/active-admin-and-paperclip-done-right/" itemprop="url">
            Active Admin and Paperclip done right
          </a>
          </h2>
          <p class="post-meta">
          <i class="fa fa-clock-o">&nbsp;</i><a itemprop="datePublished" content="28 Dec 2014" href="#" class="post-author">28 Dec 2014</a>&nbsp;<i class="fa fa-tags"></i>
           <a itemprop="keywords" href="/tags/ruby-on-rails/" class="post-category post-category-r">RUBY ON RAILS</a>    <a itemprop="keywords" href="/tags/active-admin/" class="post-category post-category-a">ACTIVE ADMIN</a>    <a itemprop="keywords" href="/tags/paperclip/" class="post-category post-category-p">PAPERCLIP</a>   
          </p>
        </header>
        <div itemprop="articleBody" class="post-description">
          <p>
          
            <p><a href="https://github.com/activeadmin/activeadmin">Active Admin</a> is an administration framework for Ruby on Rails applications which helps in creating beautiful administration panels. <a href="https://github.com/thoughtbot/paperclip">Paperclip</a> is a file attachment library for Active Record which makes management of files to models really easy.</p>

<p>Recently while creating administration page for a model, in which Paperclip was being used for managing attachments, I oberved that Active Admin was not handling it properly. For example, the view page was showing as below:</p>

<div style="text-align: center"><img src="/assets/img/blog/view.png" /></div>

<a href="/2014/12/28/active-admin-and-paperclip-done-right/">Continue Reading »</a>
          
        </p>
      </div>
      <meta itemprop="wordCount" content="573">
      <meta itemprop="author" content="Pranav Prakash">
    </article>
  

    
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting" >
        <header class="post-header">
          <h2 itemprop="name headline" class="post-title">
          <a href="/2014/11/08/migrating-ruby-on-rails-app-from-heroku-to-openshift/" itemprop="url">
            Migrating Ruby on Rails app from Heroku to OpenShift
          </a>
          </h2>
          <p class="post-meta">
          <i class="fa fa-clock-o">&nbsp;</i><a itemprop="datePublished" content="08 Nov 2014" href="#" class="post-author">08 Nov 2014</a>&nbsp;<i class="fa fa-tags"></i>
           <a itemprop="keywords" href="/tags/ruby-on-rails/" class="post-category post-category-r">RUBY ON RAILS</a>    <a itemprop="keywords" href="/tags/heroku/" class="post-category post-category-h">HEROKU</a>    <a itemprop="keywords" href="/tags/openshift/" class="post-category post-category-o">OPENSHIFT</a>   
          </p>
        </header>
        <div itemprop="articleBody" class="post-description">
          <p>
          
            <p><a href="https://www.openshift.com">OpenShift</a> is Red Hat’s Platform-as-a-Service (PaaS) that allows developers to quickly develop, host, and scale applications in a cloud environment similar to <a href="http://heroku.com">Heroku</a>. OpenShift also supports deploying of application with simple git push just like Heroku. OpenShift supports a variety of technologies through use of cartridges, including Java (Wildfly, JBossEAP, Tomcat), PHP, Node.js, Python, Perl, MySQL, PostgreSQL, MongoDB, Jenkins, Cron, and JBoss xPaaS Services (Fuse, BPM Suite, BRMS, Data Virtualization, Aerogear, and more).</p>

<h2 id="why-openshift">Why OpenShift?</h2>

<p>The free version of OpenShift, OpenShift Online, has many advantages over free tier of Heroku:</p>

<ul>
  <li>If application is not accessed for an hour on Heroku, web dyno goes to sleep mode making the next request take up to 30 seconds to serve leading users to abandon the site visit. OpenShift’s idling time is 24 hours and, as of my personal experience, it takes around 10 seconds for next request to serve.</li>
</ul>

<a href="/2014/11/08/migrating-ruby-on-rails-app-from-heroku-to-openshift/">Continue Reading »</a>
          
        </p>
      </div>
      <meta itemprop="wordCount" content="1175">
      <meta itemprop="author" content="Pranav Prakash">
    </article>
  

    
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting" >
        <header class="post-header">
          <h2 itemprop="name headline" class="post-title">
          <a href="/2014/10/25/navigation-menu-in-ruby-on-rails/" itemprop="url">
            Navigation menu in Ruby on Rails
          </a>
          </h2>
          <p class="post-meta">
          <i class="fa fa-clock-o">&nbsp;</i><a itemprop="datePublished" content="25 Oct 2014" href="#" class="post-author">25 Oct 2014</a>&nbsp;<i class="fa fa-tags"></i>
           <a itemprop="keywords" href="/tags/ruby-on-rails/" class="post-category post-category-r">RUBY ON RAILS</a>   
          </p>
        </header>
        <div itemprop="articleBody" class="post-description">
          <p>
          
            <p>Recently while working on a Rails project, I came across following markup for navigation:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="lineno"> 1</span> <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;sidebar-menu&quot;</span><span class="nt">&gt;</span>
<span class="lineno"> 2</span>   <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;treeview active&quot;</span><span class="nt">&gt;</span>
<span class="lineno"> 3</span>     <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>
<span class="lineno"> 4</span>       <span class="nt">&lt;span&gt;</span>Category<span class="nt">&lt;/span&gt;</span>
<span class="lineno"> 5</span>     <span class="nt">&lt;/a&gt;</span>
<span class="lineno"> 6</span>     <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;treeview-menu&quot;</span><span class="nt">&gt;</span>
<span class="lineno"> 7</span>       <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;active&quot;</span><span class="nt">&gt;</span>
<span class="lineno"> 8</span> 	      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>
<span class="lineno"> 9</span> 	      	<span class="nt">&lt;span&gt;</span>Add Category<span class="nt">&lt;/span&gt;</span>
<span class="lineno">10</span> 	      <span class="nt">&lt;/a&gt;</span>
<span class="lineno">11</span>       <span class="nt">&lt;/li&gt;</span>
<span class="lineno">12</span>       <span class="nt">&lt;li&gt;</span>
<span class="lineno">13</span> 	      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>
<span class="lineno">14</span> 	      	<span class="nt">&lt;span&gt;</span>Update Category<span class="nt">&lt;/span&gt;</span>
<span class="lineno">15</span> 	      <span class="nt">&lt;/a&gt;</span>
<span class="lineno">16</span>       <span class="nt">&lt;/li&gt;</span>
<span class="lineno">17</span>     <span class="nt">&lt;/ul&gt;</span>
<span class="lineno">18</span>   <span class="nt">&lt;/li&gt;</span>
<span class="lineno">19</span> <span class="nt">&lt;/ul&gt;</span></code></pre></div>

<a href="/2014/10/25/navigation-menu-in-ruby-on-rails/">Continue Reading »</a>
          
        </p>
      </div>
      <meta itemprop="wordCount" content="482">
      <meta itemprop="author" content="Pranav Prakash">
    </article>
  


<div class="footer">
<div class="pure-menu pure-menu-horizontal pure-menu-open">
  <ul>
    
      <li><a href="/page/2/">« Older</a></li>
    
    
      <li>Newer »</li>
    
  </ul>
  <p>
  &copy; 2016. All rights reserved.
  </p>
</div>
</div>
        </div>
      </div>
    </div>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48826636-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>